{"version":3,"file":"static/js/556.619e3ec2.chunk.js","mappings":"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","sources":["pages/AllStudents.js","components/SearchableList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport StudentProfile from \"./StudentProfile\";\r\nimport SearchableList from \"../components/SearchableList\";\r\nimport \"../components/SearchableList.css\";\r\nimport \"../components/StudentCard.css\";\r\n\r\nexport default function AllStudents({ token }) {\r\n  const [students, setStudents] = useState([]);\r\n  const [showForm, setShowForm] = useState(false);\r\n  const [form, setForm] = useState({\r\n    name: \"\",\r\n    age: 8,\r\n    category: \"U10\",\r\n    centerId: \"\",\r\n  });\r\n  const [selected, setSelected] = useState(null);\r\n  const [centers, setCenters] = useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchStudents();\r\n    fetchCenters();\r\n  }, []);\r\n\r\n  async function fetchStudents() {\r\n    const res = await fetch(\"http://localhost:3001/students\", {\r\n      headers: { Authorization: \"Bearer \" + token },\r\n    });\r\n    if (!res.ok) return setStudents([]);\r\n    setStudents(await res.json());\r\n  }\r\n\r\n  async function fetchCenters() {\r\n    const res = await fetch(\"http://localhost:3001/centers\", {\r\n      headers: { Authorization: \"Bearer \" + token },\r\n    });\r\n    if (!res.ok) return setCenters([]);\r\n    setCenters(await res.json());\r\n  }\r\n\r\n  async function createStudent(e) {\r\n    e.preventDefault();\r\n    await fetch(\"http://localhost:3001/students\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Authorization: \"Bearer \" + token,\r\n      },\r\n      body: JSON.stringify({\r\n        name: form.name,\r\n        age: Number(form.age),\r\n        category: form.category,\r\n        center: form.centerId ? { id: Number(form.centerId) } : undefined,\r\n      }),\r\n    });\r\n    setForm({ name: \"\", age: 8, category: \"U10\", centerId: \"\" });\r\n    setShowForm(false);\r\n    fetchStudents();\r\n  }\r\n\r\n  if (selected)\r\n    return (\r\n      <div className=\"page\">\r\n        <div className=\"card\">\r\n          <button onClick={() => setSelected(null)}>Back</button>\r\n          <StudentProfile\r\n            id={selected}\r\n            token={token}\r\n            onBack={() => setSelected(null)}\r\n          />\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  const renderStudent = (student) => (\r\n    <div\r\n      key={student.id}\r\n      className=\"student-card clickable\"\r\n      onClick={() => setSelected(student.id)}\r\n    >\r\n      <div className=\"profile-header\">\r\n        <div className=\"profile-avatar small\">\r\n          {student.image ? (\r\n            <img\r\n              src={`http://localhost:3001/uploads/${student.image}`}\r\n              alt={student.name}\r\n              style={{\r\n                width: \"100%\",\r\n                height: \"100%\",\r\n                objectFit: \"cover\",\r\n                borderRadius: \"50%\",\r\n              }}\r\n            />\r\n          ) : (\r\n            student.name.charAt(0)\r\n          )}\r\n        </div>\r\n        <h3>{student.name}</h3>\r\n      </div>\r\n      <div className=\"profile-info\">\r\n        <span>Age: {student.age}</span>\r\n        <span>Category: {student.category}</span>\r\n        <span>Center: {student.center?.name || \"-\"}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"page admin-page\">\r\n      <div className=\"card\">\r\n        <h2>All Students</h2>\r\n        <button\r\n          onClick={() => setShowForm((s) => !s)}\r\n          style={{ marginBottom: 10 }}\r\n          className=\"action-button\"\r\n        >\r\n          {showForm ? \"Cancel\" : \"Add Student\"}\r\n        </button>\r\n        {showForm && (\r\n          <form onSubmit={createStudent} className=\"add-form\">\r\n            <input\r\n              required\r\n              placeholder=\"Name\"\r\n              value={form.name}\r\n              onChange={(e) => setForm((f) => ({ ...f, name: e.target.value }))}\r\n            />\r\n            <input\r\n              required\r\n              placeholder=\"Age\"\r\n              type=\"number\"\r\n              value={form.age}\r\n              onChange={(e) => setForm((f) => ({ ...f, age: e.target.value }))}\r\n            />\r\n            <select\r\n              value={form.category}\r\n              onChange={(e) =>\r\n                setForm((f) => ({ ...f, category: e.target.value }))\r\n              }\r\n            >\r\n              <option value=\"U6\">U6</option>\r\n              <option value=\"U10\">U10</option>\r\n              <option value=\"U15\">U15</option>\r\n            </select>\r\n            <select\r\n              value={form.centerId}\r\n              onChange={(e) =>\r\n                setForm((f) => ({ ...f, centerId: e.target.value }))\r\n              }\r\n            >\r\n              <option value=\"\">Select Center</option>\r\n              {centers.map((c) => (\r\n                <option key={c.id} value={c.id}>\r\n                  {c.name}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button type=\"submit\">Create</button>\r\n          </form>\r\n        )}\r\n\r\n        <SearchableList\r\n          items={students}\r\n          onSelect={(student) => setSelected(student.id)}\r\n          renderItem={renderStudent}\r\n          searchFields={[\"name\", \"category\", \"center.name\"]}\r\n          itemsPerPage={8}\r\n          className=\"students-list\"\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\r\n\r\nexport default function SearchableList({\r\n  items,\r\n  onSelect,\r\n  renderItem,\r\n  searchFields = [\"name\"],\r\n  itemsPerPage = 10,\r\n  className = \"\",\r\n}) {\r\n  const [searchTerm, setSearchTerm] = useState(\"\");\r\n  const [currentPage, setCurrentPage] = useState(1);\r\n\r\n  // Filter items based on search term\r\n  const filteredItems = items.filter((item) =>\r\n    searchFields.some((field) =>\r\n      String(item[field]).toLowerCase().includes(searchTerm.toLowerCase())\r\n    )\r\n  );\r\n\r\n  // Calculate pagination\r\n  const totalPages = Math.ceil(filteredItems.length / itemsPerPage);\r\n  const startIndex = (currentPage - 1) * itemsPerPage;\r\n  const paginatedItems = filteredItems.slice(\r\n    startIndex,\r\n    startIndex + itemsPerPage\r\n  );\r\n\r\n  const handlePageChange = (page) => {\r\n    setCurrentPage(page);\r\n    // Scroll to top of list\r\n    window.scrollTo({ top: 0, behavior: \"smooth\" });\r\n  };\r\n\r\n  return (\r\n    <div className={`searchable-list ${className}`}>\r\n      <div className=\"search-container\">\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"Search...\"\r\n          value={searchTerm}\r\n          onChange={(e) => {\r\n            setSearchTerm(e.target.value);\r\n            setCurrentPage(1); // Reset to first page when searching\r\n          }}\r\n          className=\"search-input\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"list-container\">\r\n        {paginatedItems.length === 0 ? (\r\n          <div className=\"no-results\">No results found</div>\r\n        ) : (\r\n          paginatedItems.map((item) => renderItem(item))\r\n        )}\r\n      </div>\r\n\r\n      {totalPages > 1 && (\r\n        <div className=\"pagination\">\r\n          <button\r\n            onClick={() => handlePageChange(currentPage - 1)}\r\n            disabled={currentPage === 1}\r\n            className=\"pagination-button\"\r\n          >\r\n            Previous\r\n          </button>\r\n\r\n          {Array.from({ length: totalPages }, (_, i) => i + 1)\r\n            .filter(\r\n              (page) =>\r\n                page === 1 ||\r\n                page === totalPages ||\r\n                (page >= currentPage - 1 && page <= currentPage + 1)\r\n            )\r\n            .map((page) => (\r\n              <React.Fragment key={page}>\r\n                {page !== 1 &&\r\n                  page !== currentPage - 1 &&\r\n                  page !== currentPage + 1 &&\r\n                  page !== totalPages && (\r\n                    <span className=\"pagination-ellipsis\">...</span>\r\n                  )}\r\n                <button\r\n                  onClick={() => handlePageChange(page)}\r\n                  className={`pagination-button ${\r\n                    currentPage === page ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  {page}\r\n                </button>\r\n              </React.Fragment>\r\n            ))}\r\n\r\n          <button\r\n            onClick={() => handlePageChange(currentPage + 1)}\r\n            disabled={currentPage === totalPages}\r\n            className=\"pagination-button\"\r\n          >\r\n            Next\r\n          </button>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["AllStudents","_ref","token","students","setStudents","useState","showForm","setShowForm","form","setForm","name","age","category","centerId","selected","setSelected","centers","setCenters","async","fetchStudents","res","fetch","headers","Authorization","ok","json","useEffect","fetchCenters","_jsx","className","children","_jsxs","onClick","StudentProfile","id","onBack","s","style","marginBottom","onSubmit","e","preventDefault","method","body","JSON","stringify","Number","center","undefined","required","placeholder","value","onChange","f","_objectSpread","target","type","map","c","SearchableList","items","onSelect","student","renderItem","_student$center","image","src","concat","alt","width","height","objectFit","borderRadius","charAt","searchFields","itemsPerPage","searchTerm","setSearchTerm","currentPage","setCurrentPage","filteredItems","filter","item","some","field","String","toLowerCase","includes","totalPages","Math","ceil","length","startIndex","paginatedItems","slice","handlePageChange","page","window","scrollTo","top","behavior","disabled","Array","from","_","i","React"],"sourceRoot":""}