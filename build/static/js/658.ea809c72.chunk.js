"use strict";(self.webpackChunkmadestone_frontend=self.webpackChunkmadestone_frontend||[]).push([[658],{658:(e,t,n)=>{n.r(t),n.d(t,{default:()=>i});var s=n(43),a=n(579);function i(e){let{token:t}=e;const[n,i]=(0,s.useState)([]),[c,r]=(0,s.useState)(""),[l,d]=(0,s.useState)(null),[h,o]=(0,s.useState)([]),[u,j]=(0,s.useState)([]);async function x(){const e=await fetch("http://localhost:3001/centers",{headers:{Authorization:"Bearer "+t}});if(!e.ok)return i([]);i(await e.json())}return(0,s.useEffect)(()=>{x()},[]),l?(0,a.jsx)("div",{className:"page",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("button",{onClick:()=>d(null),children:"Back"}),(0,a.jsx)("h3",{children:"Center Details"}),(0,a.jsx)("div",{children:(0,a.jsx)("b",{children:"Students"})}),(0,a.jsx)("ul",{children:h.map(e=>(0,a.jsx)("li",{children:e.name},e.id))}),(0,a.jsx)("div",{children:(0,a.jsx)("b",{children:"Coaches"})}),(0,a.jsx)("ul",{children:u.map(e=>(0,a.jsx)("li",{children:e.name},e.id))})]})}):(0,a.jsx)("div",{className:"page admin-page",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("h2",{children:"Centers"}),(0,a.jsx)("input",{placeholder:"New center name",value:c,onChange:e=>r(e.target.value)}),(0,a.jsx)("button",{onClick:async function(){await fetch("http://localhost:3001/centers",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+t},body:JSON.stringify({name:c})}),r(""),x()},children:"Create Center"}),(0,a.jsx)("div",{className:"list-grid",children:n.map(e=>(0,a.jsxs)("div",{className:"center-box card-small",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("strong",{children:e.name}),(0,a.jsx)("div",{className:"muted",children:e.address})]}),(0,a.jsx)("div",{children:(0,a.jsx)("button",{onClick:()=>async function(e){d(e);const n=await fetch("http://localhost:3001/centers/".concat(e,"/students"),{headers:{Authorization:"Bearer "+t}}),s=n.ok?await n.json():[];o(s);const a=await fetch("http://localhost:3001/users/coaches",{headers:{Authorization:"Bearer "+t}}),i=a.ok?await a.json():[];j(i.filter(t=>t.center&&t.center.id===e))}(e.id),children:"Open"})})]},e.id))})]})})}}}]);
//# sourceMappingURL=658.ea809c72.chunk.js.map