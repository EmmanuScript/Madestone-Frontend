{"version":3,"file":"static/js/658.032c4800.chunk.js","mappings":"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","sources":["pages/CentersAdmin.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { API_BASE_URL } from \"../config/api\";\n\nexport default function CentersAdmin({\n  token,\n  onStudentClick,\n  onCoachClick,\n  onAdminClick,\n  readOnly = false,\n}) {\n  const [centers, setCenters] = useState([]);\n  const [name, setName] = useState(\"\");\n  const [selected, setSelected] = useState(null);\n  const [students, setStudents] = useState([]);\n  const [coaches, setCoaches] = useState([]);\n  const [admins, setAdmins] = useState([]);\n\n  useEffect(() => {\n    fetchCenters();\n  }, []);\n\n  async function fetchCenters() {\n    const res = await fetch(`${API_BASE_URL}/centers`, {\n      headers: { Authorization: \"Bearer \" + token },\n    });\n    if (!res.ok) return setCenters([]);\n    const data = await res.json();\n    setCenters(data.sort((a, b) => (a.name || \"\").localeCompare(b.name || \"\")));\n  }\n\n  async function createCenter() {\n    await fetch(`${API_BASE_URL}/centers`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      body: JSON.stringify({ name }),\n    });\n    setName(\"\");\n    fetchCenters();\n  }\n\n  async function openCenter(id) {\n    setSelected(id);\n    const sres = await fetch(`${API_BASE_URL}/centers/${id}/students`, {\n      headers: { Authorization: \"Bearer \" + token },\n    });\n    const studs = sres.ok ? await sres.json() : [];\n    setStudents(studs);\n    const cres = await fetch(`${API_BASE_URL}/users/coaches`, {\n      headers: { Authorization: \"Bearer \" + token },\n    });\n    const allcoaches = cres.ok ? await cres.json() : [];\n    setCoaches(allcoaches.filter((c) => c.center && c.center.id === id));\n    const ares = await fetch(`${API_BASE_URL}/users/admins`, {\n      headers: { Authorization: \"Bearer \" + token },\n    });\n    const alladmins = ares.ok ? await ares.json() : [];\n    setAdmins(alladmins.filter((a) => a.center && a.center.id === id));\n  }\n\n  if (selected)\n    return (\n      <div>\n        <button onClick={() => setSelected(null)}>Back</button>\n        <h3>Center Details</h3>\n        <div>\n          <b>Students</b>\n        </div>\n        <ul>\n          {students.map((s) => (\n            <li key={s.id}>\n              <button\n                onClick={() => onStudentClick && onStudentClick(s.id)}\n                style={{\n                  background: \"none\",\n                  border: \"none\",\n                  padding: 0,\n                  margin: 0,\n                  color: \"#2a7\",\n                  textDecoration: \"underline\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {s.name}\n              </button>\n            </li>\n          ))}\n        </ul>\n        <div>\n          <b>Coaches</b>\n        </div>\n        <ul>\n          {coaches.map((c) => (\n            <li key={c.id}>\n              <button\n                onClick={() => onCoachClick && onCoachClick(c.id)}\n                style={{\n                  background: \"none\",\n                  border: \"none\",\n                  padding: 0,\n                  margin: 0,\n                  color: \"#2a7\",\n                  textDecoration: \"underline\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {c.name}\n              </button>\n            </li>\n          ))}\n        </ul>\n        <div>\n          <b>Admins</b>\n        </div>\n        <ul>\n          {admins.map((a) => (\n            <li key={a.id}>\n              <button\n                onClick={() => onAdminClick && onAdminClick(a.id)}\n                style={{\n                  background: \"none\",\n                  border: \"none\",\n                  padding: 0,\n                  margin: 0,\n                  color: \"#2a7\",\n                  textDecoration: \"underline\",\n                  cursor: \"pointer\",\n                }}\n              >\n                {a.name}\n              </button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n\n  return (\n    <div>\n      <h2>Centers</h2>\n      {!readOnly && (\n        <>\n          <input\n            placeholder=\"New center name\"\n            value={name}\n            onChange={(e) => setName(e.target.value)}\n          />\n          <button onClick={createCenter}>Create Center</button>\n        </>\n      )}\n      <div className=\"centers-list-vertical\">\n        {centers.map((c) => (\n          <div key={c.id} className=\"center-box card-vertical\">\n            <div>\n              <strong>{c.name}</strong>\n              <div className=\"muted\">{c.address}</div>\n            </div>\n            <div>\n              <button onClick={() => openCenter(c.id)}>Open</button>\n            </div>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n"],"names":["CentersAdmin","_ref","token","onStudentClick","onCoachClick","onAdminClick","readOnly","centers","setCenters","useState","name","setName","selected","setSelected","students","setStudents","coaches","setCoaches","admins","setAdmins","async","fetchCenters","res","fetch","concat","API_BASE_URL","headers","Authorization","ok","data","json","sort","a","b","localeCompare","useEffect","_jsxs","children","_jsx","onClick","map","s","id","style","background","border","padding","margin","color","textDecoration","cursor","c","_Fragment","placeholder","value","onChange","e","target","method","body","JSON","stringify","className","address","sres","studs","cres","allcoaches","filter","center","ares","alladmins","openCenter"],"sourceRoot":""}