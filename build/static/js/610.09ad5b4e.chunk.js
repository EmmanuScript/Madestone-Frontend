"use strict";(self.webpackChunkmadestone_frontend=self.webpackChunkmadestone_frontend||[]).push([[610],{610:(e,a,s)=>{s.r(a),s.d(a,{default:()=>l});var t=s(555),n=s(43),r=s(920),c=(s(689),s(576),s(42),s(725)),i=(s(740),s(709),s(579));function l(e){let{token:a}=e;const[s,l]=(0,n.useState)([]),[o,d]=(0,n.useState)([]),[h,u]=(0,n.useState)(!1),[m,p]=(0,n.useState)({name:"",username:"",password:"",centerId:""}),[v,j]=(0,n.useState)(null),[x,f]=(0,n.useState)({isOpen:!1,type:"",data:null}),{toasts:g,success:N,error:C,removeToast:w}=(0,c.d)();async function b(){const e=await fetch("http://localhost:3001/users/coaches",{headers:{Authorization:"Bearer "+a}});if(!e.ok)return l([]);l(await e.json())}if((0,n.useEffect)(()=>{b(),async function(){const e=await fetch("http://localhost:3001/centers",{headers:{Authorization:"Bearer "+a}});if(!e.ok)return d([]);d(await e.json())}()},[]),v)return(0,i.jsx)("div",{className:"page",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("button",{onClick:()=>j(null),children:"Back"}),(0,i.jsx)(r.A,{id:v,token:a,onBack:()=>j(null)})]})});return(0,i.jsx)("div",{className:"page admin-page",children:(0,i.jsxs)("div",{className:"card",children:[(0,i.jsx)("h2",{children:"Coaches"}),(0,i.jsx)("button",{onClick:()=>u(e=>!e),className:"action-button",children:h?"Cancel":"Add Coach"}),h&&(0,i.jsxs)("form",{onSubmit:async function(e){e.preventDefault();try{if(!(await fetch("http://localhost:3001/users",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({name:m.name,username:m.username,password:m.password,role:"COACH",center:m.centerId?{id:Number(m.centerId)}:void 0,active:!0})})).ok)throw new Error("Failed to create coach");p({name:"",username:"",password:"",centerId:""}),u(!1),await b(),N("Coach created successfully!")}catch(s){C("Failed to create coach. Please try again.")}},className:"add-form",children:[(0,i.jsx)("input",{required:!0,placeholder:"Name",value:m.name,onChange:e=>p(a=>(0,t.A)((0,t.A)({},a),{},{name:e.target.value}))}),(0,i.jsx)("input",{required:!0,placeholder:"Username",value:m.username,onChange:e=>p(a=>(0,t.A)((0,t.A)({},a),{},{username:e.target.value}))}),(0,i.jsx)("input",{required:!0,placeholder:"Password",type:"password",value:m.password,onChange:e=>p(a=>(0,t.A)((0,t.A)({},a),{},{password:e.target.value}))}),(0,i.jsxs)("select",{value:m.centerId,onChange:e=>p(a=>(0,t.A)((0,t.A)({},a),{},{centerId:e.target.value})),children:[(0,i.jsx)("option",{value:"",children:"Select Center"}),o.map(e=>(0,i.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,i.jsx)("button",{type:"submit",children:"Create"})]}),(0,i.jsx)("div",{className:"list-grid",children:s.map(e=>{var a;return(0,i.jsxs)("div",{className:"coach-box card-small",children:[(0,i.jsxs)("div",{className:"coach-left",children:[(0,i.jsx)("div",{className:"coach-avatar",children:e.name.charAt(0)}),(0,i.jsxs)("div",{children:[(0,i.jsx)("strong",{children:e.name}),(0,i.jsx)("div",{className:"muted",children:(null===(a=e.center)||void 0===a?void 0:a.name)||"No center"})]})]}),(0,i.jsx)("div",{className:"coach-right",children:(0,i.jsx)("button",{onClick:()=>j(e.id),children:"View"})})]},e.id)})})]})})}},689:(e,a,s)=>{s.d(a,{A:()=>r});var t=s(43),n=s(579);function r(e){let{items:a,onSelect:s,renderItem:r,searchFields:c=["name"],itemsPerPage:i=10,className:l=""}=e;const[o,d]=(0,t.useState)(""),[h,u]=(0,t.useState)(1),m=a.filter(e=>c.some(a=>String(e[a]).toLowerCase().includes(o.toLowerCase()))),p=Math.ceil(m.length/i),v=(h-1)*i,j=m.slice(v,v+i),x=e=>{u(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,n.jsxs)("div",{className:"searchable-list ".concat(l),children:[(0,n.jsx)("div",{className:"search-container",children:(0,n.jsx)("input",{type:"text",placeholder:"Search...",value:o,onChange:e=>{d(e.target.value),u(1)},className:"search-input"})}),(0,n.jsx)("div",{className:"list-container",children:0===j.length?(0,n.jsx)("div",{className:"no-results",children:"No results found"}):j.map(e=>r(e))}),p>1&&(0,n.jsxs)("div",{className:"pagination",children:[(0,n.jsx)("button",{onClick:()=>x(h-1),disabled:1===h,className:"pagination-button",children:"Previous"}),Array.from({length:p},(e,a)=>a+1).filter(e=>1===e||e===p||e>=h-1&&e<=h+1).map(e=>(0,n.jsxs)(t.Fragment,{children:[1!==e&&e!==h-1&&e!==h+1&&e!==p&&(0,n.jsx)("span",{className:"pagination-ellipsis",children:"..."}),(0,n.jsx)("button",{onClick:()=>x(e),className:"pagination-button ".concat(h===e?"active":""),children:e})]},e)),(0,n.jsx)("button",{onClick:()=>x(h+1),disabled:h===p,className:"pagination-button",children:"Next"})]})]})}},709:()=>{},740:()=>{}}]);
//# sourceMappingURL=610.09ad5b4e.chunk.js.map