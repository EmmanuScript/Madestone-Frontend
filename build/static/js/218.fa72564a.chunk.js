"use strict";(self.webpackChunkmadestone_frontend=self.webpackChunkmadestone_frontend||[]).push([[218],{218:(e,t,n)=>{n.r(t),n.d(t,{default:()=>c});var s=n(43),r=n(481),a=n(579);function c(e){let{token:t,userId:n,onBack:c}=e;const[d,i]=(0,s.useState)([]),[o,h]=(0,s.useState)("");return(0,s.useEffect)(()=>{!async function(){let e=n;if(!e&&t)try{e=JSON.parse(atob(t.split(".")[1])).sub}catch(c){}if(!e)return;try{var s,a;const n=await fetch("".concat(r.JR,"/users/").concat(e),{headers:{Authorization:"Bearer "+t}});if(!n.ok)throw new Error("Failed to load user");const c=await n.json(),d=null===(s=c.center)||void 0===s?void 0:s.id;if(h((null===(a=c.center)||void 0===a?void 0:a.name)||""),!d)return i([]);const o=await fetch("".concat(r.JR,"/centers/").concat(d,"/students"),{headers:{Authorization:"Bearer "+t}});if(!o.ok)return i([]);const l=await o.json();i(l)}catch(c){console.error(c),i([])}}()},[n]),(0,a.jsx)("div",{className:"page",children:(0,a.jsxs)("div",{className:"card",children:[(0,a.jsx)("button",{style:{float:"right"},onClick:c,children:"Back"}),(0,a.jsxs)("h2",{children:["Center Students ",o?"- ".concat(o):""]}),(0,a.jsxs)("table",{className:"students",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:"Name"}),(0,a.jsx)("th",{children:"Age"}),(0,a.jsx)("th",{children:"Category"}),(0,a.jsx)("th",{children:"Paid"}),(0,a.jsx)("th",{children:"Due"})]})}),(0,a.jsx)("tbody",{children:d.map(e=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:e.name}),(0,a.jsx)("td",{children:e.age}),(0,a.jsx)("td",{children:e.category}),(0,a.jsx)("td",{children:e.amountPaid}),(0,a.jsx)("td",{children:e.amountDue})]},e.id))})]})]})})}}}]);
//# sourceMappingURL=218.fa72564a.chunk.js.map