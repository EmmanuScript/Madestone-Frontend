"use strict";(self.webpackChunkmadestone_frontend=self.webpackChunkmadestone_frontend||[]).push([[556],{556:(e,a,t)=>{t.r(a),t.d(a,{default:()=>c});var n=t(555),s=t(43),i=t(11),r=t(689),l=(t(740),t(709),t(579));function c(e){let{token:a}=e;const[t,c]=(0,s.useState)([]),[o,d]=(0,s.useState)(!1),[h,u]=(0,s.useState)({name:"",age:8,category:"U10",centerId:""}),[m,g]=(0,s.useState)(null),[p,j]=(0,s.useState)([]);async function x(){const e=await fetch("http://localhost:3001/students",{headers:{Authorization:"Bearer "+a}});if(!e.ok)return c([]);c(await e.json())}if((0,s.useEffect)(()=>{x(),async function(){const e=await fetch("http://localhost:3001/centers",{headers:{Authorization:"Bearer "+a}});if(!e.ok)return j([]);j(await e.json())}()},[]),m)return(0,l.jsx)("div",{className:"page",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("button",{onClick:()=>g(null),children:"Back"}),(0,l.jsx)(i.A,{id:m,token:a,onBack:()=>g(null)})]})});return(0,l.jsx)("div",{className:"page admin-page",children:(0,l.jsxs)("div",{className:"card",children:[(0,l.jsx)("h2",{children:"All Students"}),(0,l.jsx)("button",{onClick:()=>d(e=>!e),style:{marginBottom:10},className:"action-button",children:o?"Cancel":"Add Student"}),o&&(0,l.jsxs)("form",{onSubmit:async function(e){e.preventDefault(),await fetch("http://localhost:3001/students",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer "+a},body:JSON.stringify({name:h.name,age:Number(h.age),category:h.category,center:h.centerId?{id:Number(h.centerId)}:void 0})}),u({name:"",age:8,category:"U10",centerId:""}),d(!1),x()},className:"add-form",children:[(0,l.jsx)("input",{required:!0,placeholder:"Name",value:h.name,onChange:e=>u(a=>(0,n.A)((0,n.A)({},a),{},{name:e.target.value}))}),(0,l.jsx)("input",{required:!0,placeholder:"Age",type:"number",value:h.age,onChange:e=>u(a=>(0,n.A)((0,n.A)({},a),{},{age:e.target.value}))}),(0,l.jsxs)("select",{value:h.category,onChange:e=>u(a=>(0,n.A)((0,n.A)({},a),{},{category:e.target.value})),children:[(0,l.jsx)("option",{value:"U6",children:"U6"}),(0,l.jsx)("option",{value:"U10",children:"U10"}),(0,l.jsx)("option",{value:"U15",children:"U15"})]}),(0,l.jsxs)("select",{value:h.centerId,onChange:e=>u(a=>(0,n.A)((0,n.A)({},a),{},{centerId:e.target.value})),children:[(0,l.jsx)("option",{value:"",children:"Select Center"}),p.map(e=>(0,l.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,l.jsx)("button",{type:"submit",children:"Create"})]}),(0,l.jsx)(r.A,{items:t,onSelect:e=>g(e.id),renderItem:e=>{var a;return(0,l.jsxs)("div",{className:"student-card clickable",onClick:()=>g(e.id),children:[(0,l.jsxs)("div",{className:"profile-header",children:[(0,l.jsx)("div",{className:"profile-avatar small",children:e.image?(0,l.jsx)("img",{src:"http://localhost:3001/uploads/".concat(e.image),alt:e.name,style:{width:"100%",height:"100%",objectFit:"cover",borderRadius:"50%"}}):e.name.charAt(0)}),(0,l.jsx)("h3",{children:e.name})]}),(0,l.jsxs)("div",{className:"profile-info",children:[(0,l.jsxs)("span",{children:["Age: ",e.age]}),(0,l.jsxs)("span",{children:["Category: ",e.category]}),(0,l.jsxs)("span",{children:["Center: ",(null===(a=e.center)||void 0===a?void 0:a.name)||"-"]})]})]},e.id)},searchFields:["name","category","center.name"],itemsPerPage:8,className:"students-list"})]})})}},689:(e,a,t)=>{t.d(a,{A:()=>i});var n=t(43),s=t(579);function i(e){let{items:a,onSelect:t,renderItem:i,searchFields:r=["name"],itemsPerPage:l=10,className:c=""}=e;const[o,d]=(0,n.useState)(""),[h,u]=(0,n.useState)(1),m=a.filter(e=>r.some(a=>String(e[a]).toLowerCase().includes(o.toLowerCase()))),g=Math.ceil(m.length/l),p=(h-1)*l,j=m.slice(p,p+l),x=e=>{u(e),window.scrollTo({top:0,behavior:"smooth"})};return(0,s.jsxs)("div",{className:"searchable-list ".concat(c),children:[(0,s.jsx)("div",{className:"search-container",children:(0,s.jsx)("input",{type:"text",placeholder:"Search...",value:o,onChange:e=>{d(e.target.value),u(1)},className:"search-input"})}),(0,s.jsx)("div",{className:"list-container",children:0===j.length?(0,s.jsx)("div",{className:"no-results",children:"No results found"}):j.map(e=>i(e))}),g>1&&(0,s.jsxs)("div",{className:"pagination",children:[(0,s.jsx)("button",{onClick:()=>x(h-1),disabled:1===h,className:"pagination-button",children:"Previous"}),Array.from({length:g},(e,a)=>a+1).filter(e=>1===e||e===g||e>=h-1&&e<=h+1).map(e=>(0,s.jsxs)(n.Fragment,{children:[1!==e&&e!==h-1&&e!==h+1&&e!==g&&(0,s.jsx)("span",{className:"pagination-ellipsis",children:"..."}),(0,s.jsx)("button",{onClick:()=>x(e),className:"pagination-button ".concat(h===e?"active":""),children:e})]},e)),(0,s.jsx)("button",{onClick:()=>x(h+1),disabled:h===g,className:"pagination-button",children:"Next"})]})]})}},709:()=>{},740:()=>{}}]);
//# sourceMappingURL=556.619e3ec2.chunk.js.map